# プロトタイプガイドライン

## プロダクト名: グロースパック for LINE デジタル会員証

---

## ブランド設定

### カラーパレット

| 用途 | カラー名 | カラーコード |
|------|----------|--------------|
| Primary | LINE Green | #06C755 |
| Secondary | Deep Green | #00B900 |
| Accent/Warning | Orange | #FF6B35 |
| Background | Light Gray | #F5F5F5 |
| Text Primary | Dark Gray | #333333 |
| Gold (ランク) | Gold | #FFD700 |
| 仮会員 | Gray | #9CA3AF |

### 参考ブランド

- LINE（LINEミニアプリとしての統一感）
- 一般的な小売業の会員カードUI

---

## 画面構成

### 画面一覧

| 画面名 | パス | 説明 | 状態シミュレーション |
|--------|------|------|---------------------|
| QR読み取り | /demo/scan | 店頭QRコード読み取り画面 | なし |
| 仮会員証ホーム | /demo/temporary-home | 仮会員証表示（ポイント付与のみ） | 手動リフレッシュ |
| 本会員登録 | /demo/register | 本会員登録フォーム | なし |
| 本会員証ホーム | /demo/home | 本会員証表示（ポイント利用可能） | 手動リフレッシュ |

### 画面遷移図

```
[QR読み取り] → [仮会員証ホーム] → [本会員登録] → [本会員証ホーム]
                     ↓
              （ポイント貯まる）
              （ポイント使えない）
```

### demoSteps設定

`demo-builder` で使用するステップ定義:

```typescript
const demoSteps = [
  { path: "/demo/scan", label: "QR読み取り", step: 1 },
  { path: "/demo/temporary-home", label: "仮会員証", step: 2 },
  { path: "/demo/register", label: "本会員登録", step: 3 },
  { path: "/demo/home", label: "本会員証", step: 4 },
];

const demoInfo = {
  title: "グロースパック for LINE",
  subtitle: "デジタル会員証 デモ環境",
  primaryColor: "#06C755",
};
```

---

## MVP機能仕様

### 機能1: QR読み取り（仮会員登録）

**概要**: 店頭QRコードを読み取り、入力不要で即座に仮会員証を発行

**ユーザーストーリー**: As a 新規顧客, I want to QRを読むだけで仮会員になりたい, So that すぐにポイントを貯め始められる

**UI要素**:
- カメラプレビュー
- 読み取りガイド枠
- 読み取り成功インジケーター

**動作フロー**:
1. 店頭QRコードにカメラをかざす
2. 自動認識・読み取り
3. LINE認証（自動）
4. 仮会員証ホーム画面へ遷移

### 機能2: 仮会員証表示

**概要**: 仮会員としてポイントを貯められる会員証を表示（ポイント利用は不可）

**ユーザーストーリー**: As a 仮会員, I want to 会員証を表示してポイントを貯めたい, So that すぐに会員特典を受けられる

**UI要素**:
- バーコード（JAN/EAN形式）
- 「仮会員」ステータスバッジ（グレー）
- ポイント残高（貯まるが使えない旨を表示）
- 本会員登録への誘導バナー
- 登録特典（500円OFFクーポン）の訴求

**動作フロー**:
1. LINEミニアプリを開く
2. 仮会員証画面がデフォルト表示
3. バーコードをレジでスキャン→ポイント付与
4. 「ポイントを使うには本会員登録が必要です」の案内表示

**状態シミュレーション**:
- タイプ: 手動リフレッシュ
- トリガー: プルダウン操作
- 効果: ポイント残高が更新される

### 機能3: 本会員登録

**概要**: 仮会員から本会員へアップグレード。登録完了で500円OFFクーポン進呈

**ユーザーストーリー**: As a 仮会員, I want to 本会員登録してポイントを使えるようにしたい, So that 貯めたポイントで割引を受けられる

**UI要素**:
- 登録特典バナー（500円OFFクーポン）
- 入力フォーム（名前、電話番号、生年月日など最小限）
- 利用規約同意チェック
- 登録完了ボタン

**動作フロー**:
1. 仮会員証画面から「本会員登録」ボタンをタップ
2. 登録フォームで必要情報を入力
3. 登録完了→クーポン獲得演出
4. 本会員証ホーム画面へ遷移

### 機能4: 本会員証表示

**概要**: 本会員としてポイントを貯める・使うができる会員証を表示

**ユーザーストーリー**: As a 本会員, I want to ポイントを貯めて使いたい, So that お得に買い物できる

**UI要素**:
- バーコード（JAN/EAN形式）
- 「本会員」ステータスバッジ（ゴールド等）
- ポイント残高（利用可能）
- 会員ランクバッジ
- 次のランクまでの進捗バー
- 保有クーポン表示（登録完了クーポン等）

**動作フロー**:
1. LINEミニアプリを開く
2. 本会員証画面が表示
3. バーコードをレジでスキャン→ポイント付与or利用

**状態シミュレーション**:
- タイプ: 手動リフレッシュ
- トリガー: プルダウン操作
- 効果: ポイント残高・ランク情報が更新される

---

## デモ環境設定

### 表示設定

- **ビューポート**: スマホサイズ（375px × 812px）
- **フレーム**: iPhoneモックアップ（ノッチ、ステータスバー、ホームインジケーター付き）
- **サイドバー**: ステップナビゲーション + 進捗表示

### デモシナリオ

| ステップ | 画面 | 操作 | 期待結果 |
|---------|------|------|---------|
| 1 | QR読み取り | カメラ画面を表示 | QRスキャン画面が表示される |
| 2 | QR読み取り | QRコードを読み取る（シミュレート） | 読み取り成功アニメーション |
| 3 | 仮会員証ホーム | 自動遷移 | 「仮会員」バッジ付きの会員証、ポイント500pt表示 |
| 4 | 仮会員証ホーム | 本会員登録バナー確認 | 「登録で500円OFFクーポン」の訴求表示 |
| 5 | 本会員登録 | 「本会員登録」ボタンタップ | 登録フォーム画面へ遷移 |
| 6 | 本会員登録 | フォーム入力→登録完了 | クーポン獲得演出、本会員証画面へ遷移 |
| 7 | 本会員証ホーム | ホーム画面表示 | 「本会員」バッジ、ポイント2,500pt（利用可能）、500円OFFクーポン表示 |
| 8 | 本会員証ホーム | プルダウンリフレッシュ | ローディング後、最新情報に更新 |

### アニメーション要件

| 画面 | アニメーションタイプ | 対象要素 | 説明 |
|------|---------------------|---------|------|
| 全画面 | エントリー | カード要素 | フェードイン + スライドアップ（delay: 0.1s） |
| QR読み取り | 成功演出 | チェックアイコン | スケールイン + リップルエフェクト |
| 仮会員証 | 注目喚起 | 本会員登録バナー | パルスアニメーション |
| 本会員登録完了 | 成功演出 | クーポンカード | スケールイン + 紙吹雪エフェクト |
| 本会員証 | 値遷移 | ポイント数値 | AnimatePresenceで数値カウントアップ |
| 本会員証 | 進捗表示 | プログレスバー | 左から右へのグロー + フィルアニメーション |

---

## 魅力的品質機能（Delighter）

**機能名**: 登録完了クーポン

**説明**: 本会員登録を完了した瞬間に500円OFFクーポンを即時進呈。仮会員から本会員への転換を促進し、初回購買を後押しする。

**実装ノート**:
- 登録完了と同時にクーポン獲得演出を表示
- クーポンは会員証画面から確認・利用可能
- 有効期限を設けて利用を促進（例: 発行から30日間）
- 初回購入限定など条件を設定可能

**ビジュアル処理**:
- グラデーション: from-[#FF6B35] to-[#FF8C5A]（オレンジ系でお得感を演出）
- アイコン: Gift, Ticket（lucide-react）
- アニメーション: スケールイン + 紙吹雪エフェクト

---

## 仮会員 vs 本会員 UI差分

| 要素 | 仮会員 | 本会員 |
|------|--------|--------|
| ステータスバッジ | グレー「仮会員」 | ゴールド「本会員」 |
| ポイント表示 | 「貯まる（使えません）」 | 「貯まる・使える」 |
| ランク表示 | なし | あり（ゴールド/シルバー等） |
| 進捗バー | なし | 次のランクまでの進捗 |
| クーポン | なし | 登録完了クーポン等表示 |
| CTA | 「本会員登録で500円OFF」 | なし（または別プロモ） |

---

## 技術スタック（推奨）

- **フレームワーク**: Next.js 14+ (App Router)
- **スタイリング**: Tailwind CSS
- **アニメーション**: Framer Motion
- **アイコン**: Lucide React
- **バーコード生成**: react-barcode / qrcode.react
